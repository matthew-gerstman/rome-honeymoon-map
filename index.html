<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rome Honeymoon Map - Matthew & Leah</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif; background: #0a0a0a; color: #ffffff; overflow: hidden; }
        .container { display: flex; height: 100vh; }
        .sidebar { width: 320px; background: #141414; border-right: 1px solid #2a2a2a; overflow-y: auto; flex-shrink: 0; }
        .sidebar-header { padding: 16px; border-bottom: 1px solid #2a2a2a; position: sticky; top: 0; background: #141414; z-index: 10; }
        .sidebar-title { font-weight: 700; font-size: 18px; margin-bottom: 4px; }
        .sidebar-subtitle { font-size: 12px; color: #888; margin-bottom: 12px; }
        .day-buttons { display: flex; flex-direction: column; gap: 8px; }
        .day-button { width: 100%; display: flex; align-items: center; justify-content: space-between; padding: 10px 12px; border-radius: 8px; font-size: 14px; font-weight: 500; border: none; cursor: pointer; transition: all 0.2s; background: #1a1a1a; color: #888; }
        .day-button:hover { background: #222; color: #aaa; }
        .day-button.active { color: #fff; box-shadow: 0 4px 12px rgba(0,0,0,0.3); }
        .day-dot { width: 12px; height: 12px; border-radius: 50%; margin-right: 8px; }
        .locations-container { padding: 16px; }
        .locations-title { font-weight: 600; font-size: 11px; color: #888; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 0.05em; }
        .location-card { width: 100%; text-align: left; padding: 12px; margin-bottom: 8px; border-radius: 8px; border: 1px solid #2a2a2a; background: #1a1a1a; cursor: pointer; transition: all 0.2s; }
        .location-card:hover { border-color: #3a3a3a; background: #222; }
        .location-card.selected { border-color: #3b82f6; background: rgba(59, 130, 246, 0.1); }
        .location-content { display: flex; gap: 12px; }
        .location-icon { font-size: 24px; }
        .location-number { display: inline-flex; align-items: center; justify-content: center; width: 20px; height: 20px; border-radius: 50%; font-size: 11px; font-weight: 700; color: #fff; margin-right: 8px; }
        .location-name { font-weight: 600; font-size: 14px; color: #fff; margin-bottom: 4px; }
        .location-time { font-size: 11px; color: #888; margin-bottom: 4px; }
        .location-notes { font-size: 11px; color: #666; }
        .section-divider { margin-top: 16px; padding-top: 16px; border-top: 1px solid #2a2a2a; }
        .section-label { font-size: 11px; color: #888; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 8px; }
        .all-days-hint { color: #666; font-size: 12px; padding: 12px; background: #1a1a1a; border-radius: 8px; margin-bottom: 12px; border: 1px solid #2a2a2a; }
        #map { flex: 1; height: 100vh; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1a1a1a; }
        ::-webkit-scrollbar-thumb { background: #404040; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #505050; }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h3 class="sidebar-title">üáÆüáπ Rome Itinerary</h3>
                <p class="sidebar-subtitle">Select a day to view route</p>
                <div class="day-buttons" id="dayButtons"></div>
            </div>
            <div class="locations-container">
                <h4 class="locations-title" id="dayTitle">All Locations</h4>
                <div id="locationList"></div>
                <div class="section-divider" id="hotelSection">
                    <p class="section-label">Your Base</p>
                    <div class="location-card" onclick="selectLocation('rome-cavalieri')">
                        <div class="location-content">
                            <span class="location-icon">üè®</span>
                            <div><div class="location-name">Rome Cavalieri Hotel</div><div class="location-notes">Hilltop with panoramic views</div></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="map"></div>
    </div>

    <script>
        const dayColors = {
            'All Days': '#888888',
            Thursday: '#9333EA',
            Friday: '#DC2626',
            Saturday: '#2563EB',
            Sunday: '#EA580C',
            Monday: '#16A34A',
            Tuesday: '#CA8A04'
        };

        const locations = [
            { id: 'fco-airport', name: 'Rome FCO Airport', address: 'Fiumicino Airport', lat: 41.8003, lng: 12.2389, day: 'Thursday', time: '7:55 AM', icon: '‚úàÔ∏è', notes: 'Arrival from Syracuse via Detroit' },
            { id: 'rome-cavalieri', name: 'Rome Cavalieri Hotel', address: 'Via Alberto Cadlolo 101', lat: 41.9284, lng: 12.4347, icon: 'üè®', notes: 'Your base - hilltop with panoramic views' },
            { id: 'welcome-jungle', name: 'Welcome to the Jungle', address: 'Via Monte Zebio 44a', lat: 41.9146, lng: 12.4609, day: 'Friday', time: '12:00 PM', icon: 'üéµ', notes: 'Record store in Prati - 0.95 mi from hotel' },
            { id: 'radiation-records', name: 'Radiation Records Pigneto', address: 'Via Rumanello da Forli 13', lat: 41.8881, lng: 12.5294, day: 'Friday', time: '2:00 PM', icon: 'üéµ', notes: 'Far east - 3.92 mi from Welcome to Jungle' },
            { id: 'da-enzo', name: 'Da Enzo al 29', address: 'Via dei Vascellari 29', lat: 41.8865, lng: 12.4676, day: 'Friday', time: '5:00 PM', icon: 'üçù', notes: 'Trastevere walk-in - 2.65 mi from Radiation' },
            { id: 'nonnas-pasta', name: "Nonna's Pasta Class", address: 'Piazzale Pino Pascali 18', lat: 41.8276, lng: 12.4761, day: 'Saturday', time: '12:30 PM', icon: 'üëµ', notes: 'Handmade pasta - 6.81 mi from hotel' },
            { id: 'santo-palato', name: 'Santo Palato', address: 'Piazza Tarquinia, 4 a/b', lat: 41.8761, lng: 12.5142, day: 'Saturday', time: '7:30 PM', icon: 'üçΩÔ∏è', notes: 'Modern Roman trattoria - Chef Sarah Cicolini' },
            { id: 'porta-portese', name: 'Porta Portese Market', address: 'Piazza di Porta Portese', lat: 41.8822, lng: 12.4716, day: 'Sunday', time: '11:00 AM', icon: 'üõçÔ∏è', notes: 'Famous flea market in Trastevere' },
            { id: 'felice-testaccio', name: 'Felice a Testaccio', address: 'Via Pietro Micca 17', lat: 41.8785, lng: 12.4771, day: 'Sunday', time: '7:30 PM', icon: 'üçù', notes: 'Dinner reservation in Testaccio' },
            { id: 'vatican', name: 'Vatican Museums', address: 'Viale Vaticano', lat: 41.9065, lng: 12.4536, day: 'Monday', time: '2:00 PM', icon: 'üèõÔ∏è', notes: 'Vatican tour - 1.22 mi from hotel' },
            { id: 'la-pergola', name: 'La Pergola', address: 'At Rome Cavalieri Hotel', lat: 41.9284, lng: 12.4347, day: 'Monday', time: '7:00 PM', icon: '‚≠ê', notes: '3 Michelin stars - 10-course tasting' },
            { id: 'drink-kong', name: 'Drink Kong', address: 'Viale di Trastevere 1', lat: 41.8901, lng: 12.4713, day: 'Monday', time: '9:30 PM', icon: 'üç∏', notes: 'Cocktails after La Pergola' },
            { id: 'roma-termini', name: 'Roma Termini Station', address: 'Piazza dei Cinquecento', lat: 41.9010, lng: 12.5024, day: 'Tuesday', time: '12:00 PM', icon: 'üöÇ', notes: 'Train to Florence - ~1h 30m' }
        ];

        const dayRoutes = {
            Thursday: [{ lat: 41.8003, lng: 12.2389 }, { lat: 41.9284, lng: 12.4347 }],
            Friday: [{ lat: 41.9284, lng: 12.4347 }, { lat: 41.9146, lng: 12.4609 }, { lat: 41.8881, lng: 12.5294 }, { lat: 41.8865, lng: 12.4676 }, { lat: 41.9284, lng: 12.4347 }],
            Saturday: [{ lat: 41.9284, lng: 12.4347 }, { lat: 41.8276, lng: 12.4761 }, { lat: 41.9284, lng: 12.4347 }, { lat: 41.8761, lng: 12.5142 }, { lat: 41.9284, lng: 12.4347 }],
            Sunday: [{ lat: 41.9284, lng: 12.4347 }, { lat: 41.8822, lng: 12.4716 }, { lat: 41.9284, lng: 12.4347 }, { lat: 41.8785, lng: 12.4771 }, { lat: 41.9284, lng: 12.4347 }],
            Monday: [{ lat: 41.9284, lng: 12.4347 }, { lat: 41.9065, lng: 12.4536 }, { lat: 41.9284, lng: 12.4347 }, { lat: 41.8901, lng: 12.4713 }, { lat: 41.9284, lng: 12.4347 }],
            Tuesday: [{ lat: 41.9284, lng: 12.4347 }, { lat: 41.9010, lng: 12.5024 }]
        };

        let map, currentRoute, markers = {}, infoWindows = {}, selectedDay = 'All Days';

        function initMap() {
            const darkStyles = [
                { elementType: 'geometry', stylers: [{ color: '#212121' }] },
                { elementType: 'labels.icon', stylers: [{ visibility: 'off' }] },
                { elementType: 'labels.text.fill', stylers: [{ color: '#757575' }] },
                { elementType: 'labels.text.stroke', stylers: [{ color: '#212121' }] },
                { featureType: 'administrative', elementType: 'geometry', stylers: [{ color: '#757575' }] },
                { featureType: 'poi', elementType: 'labels.text.fill', stylers: [{ color: '#757575' }] },
                { featureType: 'poi.park', elementType: 'geometry', stylers: [{ color: '#181818' }] },
                { featureType: 'road', elementType: 'geometry.fill', stylers: [{ color: '#2c2c2c' }] },
                { featureType: 'road', elementType: 'labels.text.fill', stylers: [{ color: '#8a8a8a' }] },
                { featureType: 'road.arterial', elementType: 'geometry', stylers: [{ color: '#373737' }] },
                { featureType: 'road.highway', elementType: 'geometry', stylers: [{ color: '#3c3c3c' }] },
                { featureType: 'transit', elementType: 'labels.text.fill', stylers: [{ color: '#757575' }] },
                { featureType: 'water', elementType: 'geometry', stylers: [{ color: '#000000' }] },
                { featureType: 'water', elementType: 'labels.text.fill', stylers: [{ color: '#3d3d3d' }] }
            ];

            map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: 41.9028, lng: 12.4764 },
                zoom: 12,
                styles: darkStyles,
                zoomControl: true,
                mapTypeControl: false,
                streetViewControl: false,
                fullscreenControl: true
            });

            const dayButtonsContainer = document.getElementById('dayButtons');
            Object.keys(dayColors).forEach(day => {
                const count = day === 'All Days' ? locations.filter(l => l.day).length : locations.filter(l => l.day === day).length;
                const btn = document.createElement('button');
                btn.className = 'day-button' + (day === selectedDay ? ' active' : '');
                btn.style.backgroundColor = day === selectedDay ? dayColors[day] : '';
                btn.innerHTML = `<span style="display: flex; align-items: center;"><span class="day-dot" style="background-color: ${dayColors[day]}"></span>${day}</span><span style="font-size: 11px; opacity: 0.75;">${count}</span>`;
                btn.onclick = () => selectDay(day);
                dayButtonsContainer.appendChild(btn);
            });

            renderDay(selectedDay);
        }

        function selectDay(day) {
            selectedDay = day;
            document.querySelectorAll('.day-button').forEach((btn, i) => {
                const dayName = Object.keys(dayColors)[i];
                if (dayName === day) {
                    btn.classList.add('active');
                    btn.style.backgroundColor = dayColors[day];
                } else {
                    btn.classList.remove('active');
                    btn.style.backgroundColor = '';
                }
            });
            renderDay(day);
        }

        function renderDay(day) {
            Object.values(markers).forEach(m => m.setMap(null));
            Object.values(infoWindows).forEach(iw => iw.close());
            markers = {};
            infoWindows = {};
            if (currentRoute) currentRoute.setMap(null);

            if (day === 'All Days') {
                renderAllDays();
            } else {
                renderSingleDay(day);
            }
        }

        function renderAllDays() {
            document.getElementById('dayTitle').textContent = 'All Locations';
            document.getElementById('hotelSection').style.display = 'none';
            document.getElementById('locationList').innerHTML = '<div class="all-days-hint">üó∫Ô∏è All locations color-coded by day. Click markers for details.</div>';

            locations.forEach(loc => {
                const marker = new google.maps.Marker({
                    position: { lat: loc.lat, lng: loc.lng },
                    map: map,
                    title: loc.name,
                    label: { text: loc.icon, fontSize: '28px' },
                    icon: { path: google.maps.SymbolPath.CIRCLE, scale: 0 }
                });

                const infoContent = `<div style="padding: 8px; max-width: 280px;"><h3 style="font-weight: 700; font-size: 16px; margin-bottom: 4px; color: #111;">${loc.icon} ${loc.name}</h3><p style="font-size: 13px; color: #666; margin-bottom: 8px;">${loc.address || ''}</p>${loc.day ? `<div style="display: inline-block; padding: 4px 8px; border-radius: 4px; color: white; font-size: 11px; font-weight: 600; margin-bottom: 8px; background-color: ${dayColors[loc.day]}">${loc.day}</div>` : ''}${loc.time ? `<p style="font-size: 13px; font-weight: 500; margin-bottom: 4px; color: #111;">‚è∞ ${loc.time}</p>` : ''}${loc.notes ? `<p style="font-size: 13px; color: #444;">${loc.notes}</p>` : ''}</div>`;

                const infoWindow = new google.maps.InfoWindow({ content: infoContent });
                marker.addListener('click', () => {
                    Object.values(infoWindows).forEach(iw => iw.close());
                    infoWindow.open(map, marker);
                });

                markers[loc.id] = marker;
                infoWindows[loc.id] = infoWindow;
            });

            const bounds = new google.maps.LatLngBounds();
            locations.forEach(loc => bounds.extend({ lat: loc.lat, lng: loc.lng }));
            map.fitBounds(bounds);
        }

        function renderSingleDay(day) {
            document.getElementById('dayTitle').textContent = `${day}'s Route`;
            document.getElementById('hotelSection').style.display = 'block';

            const dayLocations = locations.filter(l => l.day === day);
            dayLocations.sort((a, b) => (a.time || '').localeCompare(b.time || ''));

            const listContainer = document.getElementById('locationList');
            listContainer.innerHTML = '';
            
            dayLocations.forEach((loc, index) => {
                const card = document.createElement('div');
                card.className = 'location-card';
                card.id = `card-${loc.id}`;
                card.onclick = () => selectLocation(loc.id);
                card.innerHTML = `<div class="location-content"><span class="location-icon">${loc.icon}</span><div style="flex: 1;"><div><span class="location-number" style="background-color: ${dayColors[day]}">${index + 1}</span><span class="location-name">${loc.name}</span></div>${loc.time ? `<div class="location-time">‚è∞ ${loc.time}</div>` : ''}${loc.notes ? `<div class="location-notes">${loc.notes}</div>` : ''}</div></div>`;
                listContainer.appendChild(card);

                const marker = new google.maps.Marker({
                    position: { lat: loc.lat, lng: loc.lng },
                    map: map,
                    title: loc.name,
                    label: { text: loc.icon, fontSize: '28px' },
                    icon: { path: google.maps.SymbolPath.CIRCLE, scale: 0 }
                });

                marker.addListener('click', () => selectLocation(loc.id));
                markers[loc.id] = marker;
            });

            const hotel = locations.find(l => l.id === 'rome-cavalieri');
            const hotelMarker = new google.maps.Marker({
                position: { lat: hotel.lat, lng: hotel.lng },
                map: map,
                title: hotel.name,
                label: { text: hotel.icon, fontSize: '28px' },
                icon: { path: google.maps.SymbolPath.CIRCLE, scale: 0 }
            });
            markers['rome-cavalieri'] = hotelMarker;

            // BARELY visible route - NO ARROWS, just a faint dotted hint
            const route = dayRoutes[day];
            if (route && route.length > 0) {
                currentRoute = new google.maps.Polyline({
                    path: route,
                    geodesic: true,
                    strokeColor: dayColors[day],
                    strokeOpacity: 0.1,
                    strokeWeight: 1.5
                });
                currentRoute.setMap(map);
            }

            const bounds = new google.maps.LatLngBounds();
            dayLocations.forEach(loc => bounds.extend({ lat: loc.lat, lng: loc.lng }));
            bounds.extend({ lat: hotel.lat, lng: hotel.lng });
            map.fitBounds(bounds);
        }

        function selectLocation(id) {
            const marker = markers[id];
            if (marker) {
                map.panTo(marker.getPosition());
                map.setZoom(15);
                document.querySelectorAll('.location-card').forEach(card => card.classList.remove('selected'));
                const card = document.getElementById(`card-${id}`);
                if (card) card.classList.add('selected');
                if (selectedDay === 'All Days' && infoWindows[id]) {
                    Object.values(infoWindows).forEach(iw => iw.close());
                    infoWindows[id].open(map, marker);
                }
            }
        }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDP-v5ZNxoZ222ScPrDWY9iE3O2V2GhuMA&callback=initMap"></script>
</body>
</html>
